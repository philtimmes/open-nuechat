# =============================================================================
# Docker Environment Configuration
# =============================================================================
# Copy this file to .env and customize the values
# This file is used by docker-compose.yml
#
# QUICK START - Set these 4 values at minimum:
#   1. SECRET_KEY     - Generate with: openssl rand -hex 32
#   2. ADMIN_EMAIL    - Your admin email
#   3. ADMIN_PASS     - Your admin password
#   4. LLM_API_BASE_URL - Your LLM endpoint (e.g., http://localhost:11434/v1)
# =============================================================================

# =============================================================================
# BRANDING & CUSTOMIZATION
# =============================================================================

APP_NAME=Open-NueChat
APP_TAGLINE=AI-Powered Chat Platform
APP_VERSION=1.0.0
APP_DESCRIPTION=A full-featured LLM chat platform

# Welcome screen customization
# WELCOME_TITLE=Welcome to {app_name}!
# WELCOME_MESSAGE=Start a conversation with AI. Ask questions, get help with tasks, or just chat.

FAVICON_URL=/favicon.ico
# LOGO_URL=/logo.png
# LOGO_TEXT=MyChat

DEFAULT_THEME=dark

# Custom Brand Colors (hex format, overrides theme defaults)
# Blue (default):     #0EA5E9 / #38BDF8 / #06B6D4
# Green:              #10B981 / #34D399 / #14B8A6
# Orange:             #F97316 / #FB923C / #F59E0B
# Red:                #EF4444 / #F87171 / #DC2626
# Purple:             #8B5CF6 / #A78BFA / #C084FC
# Pink:               #EC4899 / #F472B6 / #DB2777
# BRAND_PRIMARY_COLOR=#0EA5E9
# BRAND_SECONDARY_COLOR=#38BDF8
# BRAND_ACCENT_COLOR=#06B6D4

# FOOTER_TEXT=© 2025 Your Company. All rights reserved.
# PRIVACY_URL=https://yoursite.com/privacy
# TERMS_URL=https://yoursite.com/terms
# SUPPORT_EMAIL=support@yoursite.com

# =============================================================================
# FEATURE FLAGS
# =============================================================================

ENABLE_REGISTRATION=true
ENABLE_OAUTH_GOOGLE=true
ENABLE_OAUTH_GITHUB=true
ENABLE_BILLING=true
ENABLE_PUBLIC_ASSISTANTS=true
ENABLE_PUBLIC_KNOWLEDGE_STORES=true

# Free for all mode - disable token limits entirely
# When true, all users have unlimited tokens (good for self-hosted/internal use)
FREEFORALL=false

# =============================================================================
# SECURITY [REQUIRED - CHANGE IN PRODUCTION!]
# =============================================================================
# ⚠️  IMPORTANT: Generate a unique SECRET_KEY for production!
#     Command: openssl rand -hex 32

SECRET_KEY=change-this-to-a-secure-random-string-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=30

# CORS Configuration
# Comma-separated list of allowed origins for cross-origin requests
# Examples:
#   Development: http://localhost:3000,http://localhost:5173
#   Production:  https://chat.example.com
# Leave empty to use same-origin only (recommended for production)
# CORS_ORIGINS=

# Debug mode (set to false in production)
DEBUG=false

# =============================================================================
# ADMINISTRATOR ACCOUNT [REQUIRED]
# =============================================================================
# If ADMIN_PASS is set, an admin account is created/updated on startup

ADMIN_EMAIL=admin@localhost
ADMIN_PASS=
ADMIN_USERNAME=Administrator

# =============================================================================
# LLM CONFIGURATION [REQUIRED]
# =============================================================================
# OpenAI-compatible API endpoint
# Examples:
#   Ollama:    http://localhost:11434/v1
#   LM Studio: http://localhost:1234/v1
#   vLLM:      http://localhost:8000/v1
#   OpenAI:    https://api.openai.com/v1

LLM_API_BASE_URL=http://localhost:8080/v1
LLM_API_KEY=not-needed
LLM_MODEL=default
LLM_TIMEOUT=120
LLM_MAX_TOKENS=4096
LLM_TEMPERATURE=0.7

# =============================================================================
# OAUTH PROVIDERS (Optional)
# =============================================================================
# Get credentials from:
#   Google: https://console.cloud.google.com/apis/credentials
#   GitHub: https://github.com/settings/developers

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# =============================================================================
# STRIPE BILLING (Optional)
# =============================================================================
# Get keys from: https://dashboard.stripe.com/apikeys

STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

FREE_TIER_TOKENS=100000
PRO_TIER_TOKENS=1000000
ENTERPRISE_TIER_TOKENS=10000000

INPUT_TOKEN_PRICE=0.0
OUTPUT_TOKEN_PRICE=0.0

# =============================================================================
# RAG CONFIGURATION
# =============================================================================

EMBEDDING_MODEL=all-MiniLM-L6-v2
CHUNK_SIZE=512
CHUNK_OVERLAP=50
TOP_K_RESULTS=5

# Apache Tika for PDF text extraction (better quality than PyMuPDF)
# Options:
#   1. Use public instance (may be slow/unreliable):
#      TIKA_URL=http://beta.offenedaten.de:9998/tika
#   2. Run your own with Docker:
#      docker run -d -p 9998:9998 apache/tika:latest
#      TIKA_URL=http://localhost:9998/tika
#   3. Leave empty to use PyMuPDF fallback only:
#      TIKA_URL=
TIKA_URL=http://localhost:9998/tika

FAISS_INDEX_DIR=/app/faiss_indexes
FAISS_NPROBE=32
FAISS_USE_GPU=true

# =============================================================================
# TOOLS (MCP / OPENAPI)
# =============================================================================

# Encryption key for tool API keys
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# If not set, API keys will be stored in plaintext (not recommended for production)
TOOL_ENCRYPTION_KEY=

# =============================================================================
# MICROSERVICES
# =============================================================================

# TTS Service (Kokoro)
TTS_SERVICE_URL=http://tts-service:8001
# TTS_DEFAULT_VOICE=af_heart

# Image Generation Service
IMAGE_SERVICE_URL=http://image-service:8002
# IMAGE_DEFAULT_STEPS=4
# IMAGE_MAX_DIMENSION=2048

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Bind address: 
#   127.0.0.1 = localhost only (for use behind nginx/reverse proxy)
#   0.0.0.0   = all interfaces (expose directly)
BACKEND_HOST=127.0.0.1

# Port the server listens on
BACKEND_PORT=8000

# Public URL (REQUIRED when behind a reverse proxy with HTTPS)
# Used for OAuth callbacks, shared links, etc.
# Example: https://chat.example.com
PUBLIC_URL=
